// generated by info.scce.dime.generator.rest.GUIProgressGenerator#generateGUIResumer
package info.scce.dime.rest.gui;

@javax.transaction.Transactional(dontRollbackOn = info.scce.dime.exception.GUIEncounteredSignal.class)
@javax.ws.rs.Path("/continue/_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL")
public class BiddingAreaEditGUIResumer extends info.scce.dime.process.GUIResumer {
	
	@javax.inject.Inject
	private info.scce.dime.gui.ProcessResumer processResumer;
	
	// controller for fetching dywa file entities
	@javax.inject.Inject
	private de.ls5.dywa.generated.util.DomainFileController domainFileController;
	
	@javax.inject.Inject
	private de.ls5.dywa.generated.rest.controller.FeatureREST FeatureREST;
	@javax.inject.Inject
	private de.ls5.dywa.generated.controller.onbroke.models.app.FeatureController FeatureController;

	@javax.ws.rs.POST
	@javax.ws.rs.Path("Create_new_preference/branch/public")
	@javax.ws.rs.Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	@javax.ws.rs.Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	public javax.ws.rs.core.Response continueCreate_new_preferenceBranch(info.scce.dime.rest.gui.model._mSh2L1LZEe2djpkPxa2Z3QBranch output) {
		
		checkAuthentication(output.getCallStack(),"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL/Create_new_preference");
		
		
		final info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult guiResult = 
		new info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult("Create_new_preference");
		if(!"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL".equals(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getPointer().split(":")[2])){
					output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).setPointer(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getMajorGUI());
		}
		if(!output.getCallStack().getCallFrames().isEmpty()) {
		
			if(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size() - 1).getPointer() == null) {
				return javax.ws.rs.core.Response.status(422).build();
			}
		}
		final Object result = this.processResumer.resumeFromGUI(output.getCallStack(), guiResult);
		return javax.ws.rs.core.Response.ok(result).build();
	}
	@javax.ws.rs.POST
	@javax.ws.rs.Path("Create_new_feature/branch/public")
	@javax.ws.rs.Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	@javax.ws.rs.Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	public javax.ws.rs.core.Response continueCreate_new_featureBranch(info.scce.dime.rest.gui.model._mSh2L1LZEe2djpkPxa2Z3QBranch output) {
		
		checkAuthentication(output.getCallStack(),"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL/Create_new_feature");
		
		
		final info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult guiResult = 
		new info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult("Create_new_feature");
		if(!"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL".equals(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getPointer().split(":")[2])){
					output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).setPointer(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getMajorGUI());
		}
		if(!output.getCallStack().getCallFrames().isEmpty()) {
		
			if(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size() - 1).getPointer() == null) {
				return javax.ws.rs.core.Response.status(422).build();
			}
		}
		final Object result = this.processResumer.resumeFromGUI(output.getCallStack(), guiResult);
		return javax.ws.rs.core.Response.ok(result).build();
	}
	@javax.ws.rs.POST
	@javax.ws.rs.Path("Cancel/branch/public")
	@javax.ws.rs.Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	@javax.ws.rs.Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	public javax.ws.rs.core.Response continueCancelBranch(info.scce.dime.rest.gui.model._mSh2L1LZEe2djpkPxa2Z3QBranch output) {
		
		checkAuthentication(output.getCallStack(),"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL/Cancel");
		
		
		final info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult guiResult = 
		new info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult("Cancel");
		if(!"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL".equals(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getPointer().split(":")[2])){
					output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).setPointer(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getMajorGUI());
		}
		if(!output.getCallStack().getCallFrames().isEmpty()) {
		
			if(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size() - 1).getPointer() == null) {
				return javax.ws.rs.core.Response.status(422).build();
			}
		}
		final Object result = this.processResumer.resumeFromGUI(output.getCallStack(), guiResult);
		return javax.ws.rs.core.Response.ok(result).build();
	}
	@javax.ws.rs.POST
	@javax.ws.rs.Path("Submit/branch/public")
	@javax.ws.rs.Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	@javax.ws.rs.Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON)
	public javax.ws.rs.core.Response continueSubmitBranch(info.scce.dime.rest.gui.model._b9LjoVnDEe2zb__HYPHEN_MINUS__oDKccEjg_INTERNALBranch output) {
		
		checkAuthentication(output.getCallStack(),"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL/Submit");
		
			final java.util.List<de.ls5.dywa.generated.entity.onbroke.models.app.Feature>
			 selectedFeatures;
			selectedFeatures = new java.util.ArrayList<>();
			
			if (output.getSelectedFeatures() != null) {
				for (final de.ls5.dywa.generated.rest.types.Feature o: output.getSelectedFeatures()) {
				// create new object
				if (o.getDywaId() == info.scce.dime.util.Constants.DYWA_ID_CREATE_NEW) {
					if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
						final java.lang.String dywaName;
						if (o.getDywaName() == null || o.getDywaName().isEmpty()) {
							dywaName = "selectedFeatures";
						} else {
							dywaName = o.getDywaName();
						}
						final long id;
						id = FeatureREST.create(dywaName);
						o.setDywaId(id);
						
						//update_BiddingAreaEditFeatureSelectivex1_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
						FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o);
						selectedFeatures.add(FeatureController.read(o.getDywaId()));
						}
		 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }		}
				// transient object
				else if (o.getDywaId() == info.scce.dime.util.Constants.DYWA_ID_TRANSIENT) {
					if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
											final java.lang.String dywaName;
											if (o.getDywaName() == null || o.getDywaName().isEmpty()) {
												dywaName = "selectedFeatures";
											} else {
												dywaName = o.getDywaName();
											}
		
											final de.ls5.dywa.generated.entity.onbroke.models.app.Feature transientObject;
											if (o instanceof de.ls5.dywa.generated.rest.types.Feature) {
												transientObject = FeatureController.createTransient(dywaName);
											}
											 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }
		
											//update_BiddingAreaEditFeatureSelectivex1_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
											FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o, transientObject);
											selectedFeatures.add(transientObject);
					}
		 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }		}
				// regular object
					else {
						if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
							//update_BiddingAreaEditFeatureSelectivex1_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
							FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o);
							selectedFeatures.add(FeatureController.read(o.getDywaId()));
						}
					}
				}
			}
			final java.lang.String
			 description;
			description = output.getDescription();
			final java.util.List<de.ls5.dywa.generated.entity.onbroke.models.app.Feature>
			 selectedPreferences;
			selectedPreferences = new java.util.ArrayList<>();
			
			if (output.getSelectedPreferences() != null) {
				for (final de.ls5.dywa.generated.rest.types.Feature o: output.getSelectedPreferences()) {
				// create new object
				if (o.getDywaId() == info.scce.dime.util.Constants.DYWA_ID_CREATE_NEW) {
					if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
						final java.lang.String dywaName;
						if (o.getDywaName() == null || o.getDywaName().isEmpty()) {
							dywaName = "selectedPreferences";
						} else {
							dywaName = o.getDywaName();
						}
						final long id;
						id = FeatureREST.create(dywaName);
						o.setDywaId(id);
						
						//update_BiddingAreaEditFeatureSelectivex2_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
						FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o);
						selectedPreferences.add(FeatureController.read(o.getDywaId()));
						}
		 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }		}
				// transient object
				else if (o.getDywaId() == info.scce.dime.util.Constants.DYWA_ID_TRANSIENT) {
					if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
											final java.lang.String dywaName;
											if (o.getDywaName() == null || o.getDywaName().isEmpty()) {
												dywaName = "selectedPreferences";
											} else {
												dywaName = o.getDywaName();
											}
		
											final de.ls5.dywa.generated.entity.onbroke.models.app.Feature transientObject;
											if (o instanceof de.ls5.dywa.generated.rest.types.Feature) {
												transientObject = FeatureController.createTransient(dywaName);
											}
											 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }
		
											//update_BiddingAreaEditFeatureSelectivex2_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
											FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o, transientObject);
											selectedPreferences.add(transientObject);
					}
		 else { throw new java.lang.IllegalArgumentException("Unexpected type " + o.getClass()); }		}
				// regular object
					else {
						if(o instanceof de.ls5.dywa.generated.rest.types.Feature) {
							//update_BiddingAreaEditFeatureSelectivex2_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL
							FeatureREST.update_NewOfferAeraFeatureSelectivex4_Ag9K4HfGEe20WYdcRLAoOw((de.ls5.dywa.generated.rest.types.Feature)o);
							selectedPreferences.add(FeatureController.read(o.getDywaId()));
						}
					}
				}
			}
		final info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult.gui__b9LjoVnDEe2zb__HYPHEN_MINUS__oDKccEjg_INTERNALSubmitReturn guiReturn = new info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult.gui__b9LjoVnDEe2zb__HYPHEN_MINUS__oDKccEjg_INTERNALSubmitReturn();
		guiReturn.setSelectedFeatures(selectedFeatures);
		guiReturn.setDescription(description);
		guiReturn.setSelectedPreferences(selectedPreferences);
		
		final info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult guiResult = 
		new info.scce.dime.gui.onbroke.models.areas.user.biddingareaedit.BiddingAreaEdit_Goy80Fm_Ee2zbeoDKccEjg_INTERNALResult("Submit", guiReturn);
		if(!"_Goy80Fm_Ee2zbeoDKccEjg_INTERNAL".equals(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getPointer().split(":")[2])){
					output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).setPointer(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size()-1).getMajorGUI());
		}
		if(!output.getCallStack().getCallFrames().isEmpty()) {
		
			if(output.getCallStack().getCallFrames().get(output.getCallStack().getCallFrames().size() - 1).getPointer() == null) {
				return javax.ws.rs.core.Response.status(422).build();
			}
		}
		final Object result = this.processResumer.resumeFromGUI(output.getCallStack(), guiResult);
		return javax.ws.rs.core.Response.ok(result).build();
	}
	
}
